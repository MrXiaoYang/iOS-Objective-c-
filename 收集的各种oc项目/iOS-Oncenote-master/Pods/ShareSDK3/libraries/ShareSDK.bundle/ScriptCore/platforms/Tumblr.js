var $pluginID = "com.mob.sharesdk.Tumblr";eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([3-9a-fhk-mo-zA-Z]|[1-3]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('7 q={"Y":"consumer_key","Z":"consumer_secret","10":"callback_url","1j":"covert_url"};a f(h){6.1k=3;6.1B=3;6.2l=h;6.l={"y":3,"z":3};6.11=3;6.1a=3}f.k.h=a(){m 6.2l};f.k.A=a(){m"f"};f.k.M=a(){5(6.l["z"]!=3&&6.l["z"][q.Y]!=3){m 6.l["z"][q.Y]}o 5(6.l["y"]!=3&&6.l["y"][q.Y]!=3){m 6.l["y"][q.Y]}m 3};f.k.12=a(){5(6.l["z"]!=3&&6.l["z"][q.Z]!=3){m 6.l["z"][q.Z]}o 5(6.l["y"]!=3&&6.l["y"][q.Z]!=3){m 6.l["y"][q.Z]}m 3};f.k.13=a(){5(6.l["z"]!=3&&6.l["z"][q.10]!=3){m 6.l["z"][q.10]}o 5(6.l["y"]!=3&&6.l["y"][q.10]!=3){m 6.l["y"][q.10]}m 3};f.k.1C=a(){m"2m-2n-"+6.h()+"-"+6.M()};f.k.1D=a(){5(6.l["z"]!=3&&6.l["z"][q.1j]!=3){m 6.l["z"][q.1j]}o 5(6.l["y"]!=3&&6.l["y"][q.1j]!=3){m 6.l["y"][q.1j]}m $4.8.1D()};f.k.2o=a(1b){5(2p.1c==0){m 6.l["y"]}o{6.l["y"]=6.1E(1b);6.1F()}};f.k.2q=a(1b){5(2p.1c==0){m 6.l["z"]}o{6.l["z"]=6.1E(1b);6.1F()}};f.k.saveConfig=a(){7 9=6;7 14="2m-2n";$4.Q.2r("2s",15,14,a(b){5(b!=3){7 1l=b.1b;5(1l==3){1l={}}1l["plat_"+9.h()]=9.M();$4.Q.2t("2s",1l,15,14,3)}})};f.k.isSupportAuth=a(){m 1q};f.k.1G=a(u,settings){7 e=3;7 9=6;5(6.2u()){6.2v(a(R,1r){5(R){7 v="1s://1H.P.S/1I/request_token";7 16={"1J":9.M(),"1K":"1L-1M","1N":1d(1O 1P().1Q()/1R).T(),"1S":1d(1T.1U()*1V).T(),"1W":"1.0","oauth_callback":9.1a+"://P-1G"};$4.Q.1X(9.h(),3,v,"2w",3,3,16,9.12(),3,a(b){5(b!=3){5(b["s"]!=3){$4.E.I(u,$4.8.p.t,e)}o{7 U=$4.B.1Y(b["1Z"]);5(b["2x"]==2y&&U!=3){7 F=$4.B.20(U);9.1k=F["1e"];9.1B=F["2z"];7 2A="2B://1H.P.S/1I/1G?1e="+$4.B.urlEncode(9.1k);$4.E.openURL(2A)}o{e={"s":$4.8.C.1f,"21":U};$4.E.I(u,$4.8.p.t,e)}}}o{e={"s":$4.8.C.1f,"J":"分享平台["+9.A()+"]请求授权失败!"};$4.E.I(u,$4.8.p.t,e)}})}o{7 e={"s":$4.8.C.UnsetURLScheme,"J":"分享平台［"+9.A()+"］尚未配置2C 2D:"+9.1a+", 无法进行SSO授权!"};$4.E.I(u,$4.8.p.t,e)}})}o{e={"s":$4.8.C.InvaildPlatform,"J":"分享平台［"+6.A()+"］应用信息无效!"};$4.E.I(u,$4.8.p.t,e)}};f.k.handleSSOCallback=a(u,13,sourceApplication,annotation){7 9=6;5(13.2E().indexOf(6.1a.2E()+"://")==0){7 22=$4.B.parseUrl(13);5(22!=3){7 w=$4.B.20(22.23);5(w!=3){9.1k=w["1e"];7 16={"1e":9.1k,"1J":9.M(),"1K":"1L-1M","1N":1d(1O 1P().1Q()/1R).T(),"1S":1d(1T.1U()*1V).T(),"1W":"1.0","2F":w["2F"]};$4.Q.1X(9.h(),3,"2B://1H.P.S/1I/access_token","24",3,3,16,9.12(),9.1B,a(b){5(b!=3){5(b["s"]!=3){$4.E.I(u,$4.8.p.t,e)}o{7 U=$4.B.1Y(b["1Z"]);5(b["2x"]==2y&&U!=3){7 F=$4.B.20(U);9.2G(u,F)}o{e={"s":$4.8.C.1f,"21":U};$4.E.I(u,$4.8.p.t,e)}}}o{e={"s":$4.8.C.1f,"J":"分享平台["+9.A()+"]请求授权失败!"};$4.E.I(u,$4.8.p.t,e)}})}o{e={"s":$4.8.C.2H,"J":"无效的授权回调:["+13+"]"};$4.E.I(u,$4.8.p.t,e)}}o{e={"s":$4.8.C.2H,"J":"无效的授权回调:["+13+"]"};$4.E.I(u,$4.8.p.t,e)}m 1q}m 15};f.k.2I=a(23,c){7 9=6;5(23!=3){7 e={"s":$4.8.C.25,"J":"分享平台［"+9.A()+"］不支持获取其他用户资料!"};5(c!=3){c($4.8.p.t,e)}m}6.1m(a(d){7 v="1s://26.P.S/v2/d/info";9.1t(v,"2w",3,3,a(K,b){7 r=b;5(K==$4.8.p.1g){r={"2J":9.h()};9.2K(r,b["d"]);5(r["1n"]==d["1n"]){r["D"]=d["D"]}}5(c!=3){c(K,r)}})})};f.k.1t=a(v,2L,w,2M,c){7 e=3;7 9=6;6.1m(a(d){5(d!=3){5(w==3){w={}}7 16={};7 28=3;5(d.D!=3){16={"1J":9.M(),"1e":d.D.2N,"1K":"1L-1M","1N":1d(1O 1P().1Q()/1R).T(),"1S":1d(1T.1U()*1V).T(),"1W":"1.0"};28=d.D.2O}$4.Q.1X(9.h(),3,v,2L,w,2M,16,9.12(),28,a(b){5(b!=3){5(b["s"]!=3){5(c){c($4.8.p.t,b)}}o{7 F=$4.B.jsonStringToObject($4.B.1Y(b["1Z"]));5(F!=3&&F["29"]!=3&&(F["29"]["2P"]=="OK"||F["29"]["2P"]=="Created")){5(c){c($4.8.p.1g,F["F"])}}o{7 2Q=$4.8.C.1f;e={"s":2Q,"21":F};5(c){c($4.8.p.t,e)}}}}o{e={"s":$4.8.C.1f};5(c){c($4.8.p.t,e)}}})}o{e={"s":$4.8.C.UserUnauth,"J":"尚未授权["+9.A()+"]用户"};5(c){c($4.8.p.t,e)}}})};f.k.cancelAuthorize=a(){6.1u(3,3)};f.k.addFriend=a(u,d,c){7 e={"s":$4.8.C.25,"J":"分享平台［"+9.A()+"］不支持添加好友!"};5(c!=3){c($4.8.p.t,e)}};f.k.getFriends=a(cursor,size,c){7 e={"s":$4.8.C.25,"J":"分享平台［"+9.A()+"］不支持获取好友列表!"};5(c!=3){c($4.8.p.t,e)}};f.k.share=a(u,G,c){7 9=6;7 L=3;7 x=3;7 H=3;7 v=3;7 1h=3;7 1v=G!=3?G["@1v"]:3;7 1w={"@1v":1v};7 h=$4.8.V(6.h(),G,"h");5(h==3){h=$4.8.1i.2R}5(h==$4.8.1i.2R){h=6.2S(G)}6.1m(a(d){1h=$4.8.V(9.h(),G,"blog_name");5(1h==3&&d!=3&&d.D!=3&&d.D["N"]!=3){1h=d.D["N"]["2T"]}switch(h){2U $4.8.1i.2V:{L=$4.8.V(9.h(),G,"L");x=$4.8.V(9.h(),G,"x");9.2a([L],a(b){L=b.2b[0];7 w={"h":"L","body":L};5(x!=3){w["x"]=x}9.1t("1s://26.P.S/v2/2W/"+1h+".P.S/2X","24",w,3,a(K,b){7 r=b;5(K==$4.8.p.1g){5(b!=3){r={};r["N"]=b;r["2Y"]=b["id"];r["L"]=L;5(x!=3){r["N"]["x"]=x}}}5(c!=3){c(K,r,d,1w)}})});17}2U $4.8.1i.30:{7 W=$4.8.V(9.h(),G,"W");5(31.k.T.32(W)===\'[33 34]\'){H=W[0]}x=$4.8.V(9.h(),G,"x");v=$4.8.V(9.h(),G,"v");9.2a([v],a(b){v=b.2b[0];7 w={"h":"photo"};5(!/^(1x\\:\\/)?\\//.1y(H)){w["source"]=H}o{7 1o="application/octet-stream";5(/\\.jpe?g$/.1y(H)){1o="H/jpeg"}o 5(/\\.35$/.1y(H)){1o="H/35"}o 5(/\\.36$/.1y(H)){1o="H/36"}7 1x={"path":H,"mime_type":1o};w["b"]="@1x("+$4.B.2c(1x)+")"}5(x!=3){w["caption"]=x}5(v!=3){w["link"]=v}9.1t("1s://26.P.S/v2/2W/"+1h+".P.S/2X","24",w,3,a(K,b){7 r=b;5(K==$4.8.p.1g){5(b!=3){r={};r["N"]=b;r["2Y"]=b["id"];r["L"]=L;r["W"]=[H];5(v!=3){r["urls"]=[v]}5(x!=3){r["N"]["x"]=x}}}5(c!=3){c(K,r,d,1w)}})});17}default:{7 e={"s":$4.8.C.UnsupportContentType,"J":"不支持的分享类型["+h+"]"};5(c!=3){c($4.8.p.t,e,3,1w)}17}}})};f.k.2S=a(G){7 h=$4.8.1i.2V;7 W=$4.8.V(6.h(),G,"W");5(31.k.T.32(W)===\'[33 34]\'){h=$4.8.1i.30}m h};f.k.2G=a(u,1z){7 9=6;7 D={"2N":1z["1e"],"2O":1z["2z"],"N":1z,"h":$4.8.credentialType.OAuth1x};7 d={"2J":6.h(),"D":D};6.1u(d,a(){9.2I(3,a(K,b){5(K==$4.8.p.1g){b["D"]=d["D"];d=b;d.D["1n"]=d["1n"];7 2d=3;7 O=d["N"]["O"];5(O!=3){1A(7 i=0;i<O.1c;i++){7 18=O[i];5(18["37"]){2d=18["A"];17}}}d.D["N"]["2T"]=2d;9.1u(d,3)}$4.E.I(u,$4.8.p.1g,d)})})};f.k.1m=a(c){5(6.11!=3){5(c){c(6.11)}}o{7 9=6;7 14=6.1C();$4.Q.2r("38",15,14,a(b){9.11=b!=3?b.1b:3;5(c){c(9.11)}})}};f.k.1u=a(d,c){6.11=d;7 14=6.1C();$4.Q.2t("38",6.11,15,14,a(b){5(c!=3){c()}})};f.k.2K=a(d,19){5(d!=3&&19!=3){d["N"]=19;d["1n"]=19["A"];d["nickname"]=19["A"];d["gender"]=2;7 O=19["O"];5(O!=3){1A(7 i=0;i<O.1c;i++){7 18=O[i];5(18["37"]){d["v"]=18["v"];d["share_count"]=18["posts"];17}}}d["follower_count"]=19["following"]}};f.k.2v=a(c){7 9=6;$4.Q.getAppConfig(a(b){7 1r=3;7 2e="";7 R=15;7 2f=9.1a;5(b!=3&&b.2g!=3){1A(7 i=0;i<b.2g.1c;i++){7 1p=b.2g[i];5(1p!=3&&1p.2h!=3){1A(7 j=0;j<1p.2h.1c;j++){7 2i=1p.2h[j];5(2i==2f){R=1q;1r=2i;17}}}5(R){17}}}5(!R){2e=2f}5(!R){$4.E.39("#3a:尚未配置["+9.A()+"]2C 2D:"+2e+", 无法授权。")}5(c!=3){c(R,1r)}})};f.k.1F=a(){6.1a="tb"+6.M()};f.k.2u=a(){5(6.M()!=3&&6.12()!=3&&6.13()!=3){m 1q}$4.E.39("#3a:["+6.A()+"]应用信息有误，不能进行相关操作。请检查本地代码中和服务端的["+6.A()+"]平台应用配置是否有误! \\n本地配置:"+$4.B.2c(6.2o())+"\\n服务器配置:"+$4.B.2c(6.2q()));m 15};f.k.1E=a(X){7 M=$4.B.2j(X[q.Y]);7 12=$4.B.2j(X[q.Z]);7 3b=$4.B.2j(X[q.10]);X[q.Y]=M;X[q.Z]=12;X[q.10]=3b;m X};f.k.2a=a(2k,c){5(6.1D()){7 9=6;6.1m(a(d){$4.8.convertUrl(9.h(),d,2k,c)})}o{5(c){c({"2b":2k})}}};$4.8.registerPlatformClass($4.8.platformType.f,f);',[],198,'|||null|mob|if|this|var|shareSDK|self|function|data|callback|user|error|Tumblr||type|||prototype|_appInfo|return||else|responseState|TumblrAppInfoKeys|resultData|error_code|Fail|sessionId|url|params|title|local|server|name|utils|errorCode|credential|native|response|parameters|image|ssdk_authStateChanged|error_message|state|text|consumerKey|raw_data|blogs|tumblr|ext|hasReady|com|toString|responseStr|getShareParam|images|appInfo|ConsumerKey|ConsumerSecret|CallbackUrl|_currentUser|consumerSecret|callbackUrl|domain|false|oauthParams|break|item|rawData|_callbackUrlScheme|value|length|parseInt|oauth_token|APIRequestFail|Success|blogName|contentType|ConvertUrl|_oauthToken|curApps|_getCurrentUser|uid|mimeType|typeObj|true|urlScheme|http|callApi|_setCurrentUser|flags|userData|file|test|credentialRawData|for|_oauthTokenSecret|cacheDomain|convertUrlEnabled|_checkAppInfoAvailable|_updateCallbackURLScheme|authorize|www|oauth|oauth_consumer_key|oauth_signature_method|HMAC|SHA1|oauth_timestamp|new|Date|getTime|1000|oauth_nonce|Math|random|100000|oauth_version|ssdk_callOAuthApi|base64Decode|response_data|parseUrlParameters|user_data|urlObj|query|POST|UnsupportFeature|api||oauthTokenSecret|meta|_convertUrl|result|objectToJsonString|primaryBlog|warningLog|callbackScheme|CFBundleURLTypes|CFBundleURLSchemes|schema|trim|contents|_type|SSDK|Platform|localAppInfo|arguments|serverAppInfo|getCacheData|currentApp|setCacheData|_isAvailable|_checkUrlScheme|GET|status_code|200|oauth_token_secret|authUrl|https|URL|Scheme|toLowerCase|oauth_verifier|_succeedAuthorize|InvalidAuthCallback|getUserInfo|platform_type|_updateUserInfo|method|headers|token|secret|msg|code|Auto|_getShareType|primary_blog|case|Text|blog|post|cid||Image|Object|apply|object|Array|png|gif|primary|currentUser|log|warning|callbacUrl'.split('|'),0,{}))