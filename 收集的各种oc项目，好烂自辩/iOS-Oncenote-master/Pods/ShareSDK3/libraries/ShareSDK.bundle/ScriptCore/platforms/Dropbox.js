var $pluginID = "com.mob.sharesdk.Dropbox";eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([3-9a-fh-mo-zA-Z]|[12]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('7 j={"I":"app_key","J":"app_secret","K":"oauth_callback","X":"covert_url"};8 b(t){4.1v=t;4.f={"p":3,"q":3};4._urlScheme=3;4.L=3}b.e.t=8(){k 4.1v};b.e.D=8(){k"b"};b.e.E=8(){6(4.f["q"]!=3&&4.f["q"][j.I]!=3){k 4.f["q"][j.I]}l 6(4.f["p"]!=3&&4.f["p"][j.I]!=3){k 4.f["p"][j.I]}k 3};b.e.Y=8(){6(4.f["q"]!=3&&4.f["q"][j.J]!=3){k 4.f["q"][j.J]}l 6(4.f["p"]!=3&&4.f["p"][j.J]!=3){k 4.f["p"][j.J]}k 3};b.e.Z=8(){6(4.f["q"]!=3&&4.f["q"][j.K]!=3){k 4.f["q"][j.K]}l 6(4.f["p"]!=3&&4.f["p"][j.K]!=3){k 4.f["p"][j.K]}k 3};b.e.1k=8(){k"1w-1x-"+4.t()+"-"+4.E()};b.e.1y=8(){6(4.f["q"]!=3&&4.f["q"][j.X]!=3){k 4.f["q"][j.X]}l 6(4.f["p"]!=3&&4.f["p"][j.X]!=3){k 4.f["p"][j.X]}k $5.a.1y()};b.e.1z=8(Q){6(1A.15==0){k 4.f["p"]}l{4.f["p"]=4.1l(Q)}};b.e.1B=8(Q){6(1A.15==0){k 4.f["q"]}l{4.f["q"]=4.1l(Q)}};b.e.saveConfig=8(){7 i=4;7 M="1w-1x";$5.N.1C("1D",R,M,8(h){6(h!=3){7 10=h.Q;6(10==3){10={}}10["plat_"+i.t()]=i.E();$5.N.1E("1D",10,R,M,3)}})};b.e.isSupportAuth=8(){k 1F};b.e.1G=8(r,1m){7 c=3;6(4.1H()){4.1I(r,1m)}l{c={"u":$5.a.v.InvaildPlatform,"B":"分享平台［"+4.D()+"］应用信息无效!"};$5.F.S(r,$5.a.m.w,c)}};b.e.handleAuthCallback=8(r,16){7 c=3;7 i=4;7 17=$5.o.parseUrl(16);6(17!=3&&17.18!=3){7 x=$5.o.parseUrlParameters(17.18);6(x!=3&&x.T!=3){7 1J={"1K":4.E(),"client_secret":4.Y(),"grant_type":"authorization_code","1L":4.Z(),"T":x.T};$5.N.1M(4.t(),3,"19://1N.1O.1a/1/1P/1b","POST",1J,3,8(h){6(h!=3){7 O=$5.o.1Q($5.o.1R(h["1S"]));6(O.c==3){i.1T(r,O)}l{c={"u":$5.a.v.U,"1U":O};$5.F.S(r,$5.a.m.w,c)}}l{c={"u":$5.a.v.U};$5.F.S(r,$5.a.m.w,c)}})}l{c={"u":$5.a.v.1V,"B":"无效的授权回调:["+16+"]"};$5.F.S(r,$5.a.m.w,c)}}l{c={"u":$5.a.v.1V,"B":"无效的授权回调:["+16+"]"};$5.F.S(r,$5.a.m.w,c)}};b.e.1W=8(18,9){7 i=4;4.1c(8(d){6(18!=3){7 c={"u":$5.a.v.1n,"B":"分享平台［"+i.D()+"］不支持获取其他用户资料!"};6(9!=3){9($5.a.m.w,c)}k}i.1o("19://1N.1X.1a/1/account/info","GET",3,3,8(C,h){7 y=h;6(C==$5.a.m.11){y={"1p":i.t()};i.1q(y,h);6(y["V"]==d["V"]){y["z"]=d["z"]}}6(9!=3){9(C,y)}})})};b.e.1o=8(s,1Y,x,1d,9){7 c=3;7 i=4;4.1c(8(d){6(d!=3){6(x==3){x={}}6(1d==3){1d={}}6(d.z!=3){x["1r"]=d.z.1b}$5.N.1M(i.t(),3,s,1Y,x,1d,8(h){6(h!=3){7 O=$5.o.1Q($5.o.1R(h["1S"]));6(h["status_code"]==200){6(9){9($5.a.m.11,O)}}l{7 T=$5.a.v.U;c={"u":T,"1U":O};6(9){9($5.a.m.w,c)}}}l{c={"u":$5.a.v.U};6(9){9($5.a.m.w,c)}}})}l{c={"u":$5.a.v.UserUnauth,"B":"尚未授权["+i.D()+"]用户"};6(9){9($5.a.m.w,c)}}})};b.e.cancelAuthorize=8(){4.1e(3,3)};b.e.addFriend=8(r,d,9){7 c={"u":$5.a.v.1n,"B":"分享平台［"+i.D()+"］不支持添加好友!"};6(9!=3){9($5.a.m.w,c)}};b.e.getFriends=8(cursor,size,9){7 c={"u":$5.a.v.1n,"B":"分享平台［"+i.D()+"］不支持获取好友列表!"};6(9!=3){9($5.a.m.w,c)}};b.e.share=8(r,12,9){7 i=4;7 c=3;7 1f=12!=3?12["@1f"]:3;7 1g={"@1f":1f};7 A=3;7 W=$5.a.1Z(4.t(),12,"W");6(W!=3&&20.e.21.22(W)===\'[23 24]\'&&W.15>0){A=W[0]}6(A==3){7 P=$5.a.1Z(4.t(),12,"P");6(P!=3&&20.e.21.22(P)===\'[23 24]\'&&P.15>0){A=P[0]}}6(A!=3){4.25(A,8(s){6(s!=3){7 13="26/27-28";6(/\\.jpe?g$/.1h(s)){13="14/jpeg"}l 6(/\\.29$/.1h(s)){13="14/29"}l 6(/\\.2a$/.1h(s)){13="14/2a"}7 A={"path":s,"mime_type":13};7 2b=$5.o.getFileName(s);7 x={"@body":"@A("+$5.o.1i(A)+")"};i.1c(8(d){7 1s="19://content.1X.1a/1/files_put/sandbox/"+2b+"?overwrite=R";6(d!=3&&d.z!=3){1s+="&1r="+$5.o.2c(d.z.1b)}i.1o(1s,"PUT",x,{"Content-Type":"26/27-28"},8(C,h){7 y=h;6(C==$5.a.m.11){y={};y["1t"]=h;y["P"]=[s]}6(9!=3){9(C,y,d,1g)}})})}l{c={"u":$5.a.v.U,"B":"分享失败!14无效!"};6(9!=3){9($5.a.m.w,c,3,1g)}}})}l{c={"u":$5.a.v.U,"B":"分享参数14不能为空!"};6(9!=3){9($5.a.m.w,c,3,1g)}}};b.e.createUserByRawData=8(G){7 d={"1p":4.t()};4.1q(d,G);k $5.o.1i(d)};b.e.25=8(s,9){6(!/^(A\\:\\/)?\\//.1h(s)){$5.N.downloadFile(s,8(h){6(h.2d!=3){6(9!=3){9(h.2d)}}l{6(9!=3){9(3)}}})}l{6(9!=3){9(s)}}};b.e.1q=8(d,G){6(d!=3&&G!=3){d["1t"]=G;d["V"]=G["V"];d["nickname"]=G["display_name"];d["gender"]=2;d["s"]=G["referral_link"]}};b.e.1c=8(9){6(4.L!=3){6(9){9(4.L)}}l{7 i=4;7 M=4.1k();$5.N.1C("2e",R,M,8(h){i.L=h!=3?h.Q:3;6(9){9(i.L)}})}};b.e.1T=8(r,1j){7 i=4;7 z={"V":1j["V"],"1b":1j["1r"],"expired":(2f 2g().2h()+946080000*1000),"1t":1j,"t":$5.a.credentialType.OAuth2};7 d={"1p":4.t(),"z":z};4.1e(d,8(){i.1W(3,8(C,h){6(C==$5.a.m.11){h["z"]=d["z"];d=h;i.1e(d,3)}$5.F.S(r,$5.a.m.11,d)})})};b.e.1e=8(d,9){4.L=d;7 M=4.1k();$5.N.1E("2e",4.L,R,M,8(h){6(9!=3){9()}})};b.e.1H=8(){6(4.E()!=3&&4.Y()!=3&&4.Z()!=3){k 1F}$5.F.log("#warning:["+4.D()+"]应用信息有误，不能进行相关操作。请检查本地代码中和服务端的["+4.D()+"]平台应用配置是否有误! \\n本地配置:"+$5.o.1i(4.1z())+"\\n服务器配置:"+$5.o.1i(4.1B()));k R};b.e.1I=8(r,1m){7 2i="19://www.1O.1a/1/1P/1G?1K="+4.E()+"&response_type=T&1L="+$5.o.2c(4.Z())+"&C="+2f 2g().2h();$5.F.ssdk_openAuthUrl(r,2i,4.Z())};b.e.1l=8(H){7 E=$5.o.1u(H[j.I]);7 Y=$5.o.1u(H[j.J]);7 2j=$5.o.1u(H[j.K]);H[j.I]=E;H[j.J]=Y;H[j.K]=2j;k H};$5.a.registerPlatformClass($5.a.platformType.b,b);',[],144,'|||null|this|mob|if|var|function|callback|shareSDK|Dropbox|error|user|prototype|_appInfo||data|self|DropboxAppInfoKeys|return|else|responseState||utils|local|server|sessionId|url|type|error_code|errorCode|Fail|params|resultData|credential|file|error_message|state|name|appKey|native|rawData|appInfo|AppKey|AppSecret|OAuthCallback|_currentUser|domain|ext|response|images|value|false|ssdk_authStateChanged|code|APIRequestFail|uid|attachments|ConvertUrl|appSecret|oauthCallback|curApps|Success|parameters|mimeType|image|length|callbackUrl|urlInfo|query|https|com|token|_getCurrentUser|headers|_setCurrentUser|flags|userData|test|objectToJsonString|credentialRawData|cacheDomain|_checkAppInfoAvailable|settings|UnsupportFeature|callApi|platform_type|_updateUserInfo|access_token|requestUrl|raw_data|trim|_type|SSDK|Platform|convertUrlEnabled|localAppInfo|arguments|serverAppInfo|getCacheData|currentApp|setCacheData|true|authorize|_isAvailable|_webAuthorize|tokenParams|client_id|redirect_uri|ssdk_callHTTPApi|api|dropbox|oauth2|jsonStringToObject|base64Decode|response_data|_succeedAuthorize|user_data|InvalidAuthCallback|getUserInfo|dropboxapi|method|getShareParam|Object|toString|apply|object|Array|_getImagePath|application|octet|stream|png|gif|fileName|urlEncode|result|currentUser|new|Date|getTime|authUrl|redirectUri'.split('|'),0,{}))